
@model IEnumerable<AllGreatFilms.BusinessLayer.ViewModels.homeList_vm>

@{
    int utility = 0;
    int grLabel = 0;
    int myBarSpan = 0;
    int load = 0;
    int afterFav = 0;
    int afterToWatch = 0;
    int afterWatched = 0;
    int id = 0;


    var date = DateTime.Now;

    Random rand = new Random();
    rand.Next();
    var number = 0;
    string numberCircleClass = "";
    string bg = "";
}

<row>

    <h3 class="font-alt m-b-0" style="padding-bottom: 15px;margin-top: 0px;">
        <span style="color:#eb4d63 !important; padding-left: 0px;">@ViewBag.ListTitle</span>
        List
    </h3>
</row>

@foreach (var item in Model)
{

    utility = rand.Next();
    grLabel = rand.Next();
    myBarSpan = rand.Next();
    load = rand.Next();
    afterFav = rand.Next();
    afterToWatch = rand.Next();
    afterWatched = rand.Next();
    number++;
    int rate = (int)Math.Floor(item.GreatnessRating);


    if (@number < 4)
    {

        numberCircleClass = "numberCircleRed";

    }
    else
    {

        numberCircleClass = "numberCircle";

    }


    <div style="padding-top:0px !important; background: white ;box-shadow: 1px 1px 6px 0 rgba(107,107,107,.15); height: 75px; margin-top:4px;">

        <div class="post" >
            <div class="row">



                <div class="col-sm-6" style="padding-left: 25px;">

                    <div class="post-header" style="margin: 19px 0px 15px 15px;">
                        <h2 class="list-Title font-alt"><a class"pink" href="blog-single.html">@Html.DisplayFor(modelItem => item.Movie_name)</a></h2>
                        <div class="post-meta font-inc" style="margin-left: 0px !important;">

                            <i class="fa fa-fw"></i>
                            <span class="muted"></span>

                            <a href="#">@Html.DisplayFor(modelItem => item.Director_name)</a> | @Html.DisplayFor(modelItem => item.Year)
                        </div>
                    </div>

                </div>



                <div class="col-sm-6" style="padding-right: 25px;">

                    <div class="rating-icons-container clearfix" style="margin-top: 15px !important;">
                        <div class="rating-container" id="rating">
                            <span class="font-inc" style="opacity: 1;" id=@grLabel>Greatness Rating</span>
                            <div class="progress" style="width: 135%" id="myBarSpan">
                                <div class="progress-bar progress-bar-striped active" aria-valuenow="@rate" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width:@item.GRating">
                                    <label>@rate</label>
                                    <span class="font-inc"></span>
                                </div>
                            </div>
                        </div>


                        <div class="post-more font-inc text-center" id=@utility>
                            <ul class="cards-list">
                                @if (item.isFav)
                                {
                                    <li><a><span class="pe-7s-like" style="color:#ea495f; cursor:pointer" aria-hidden="true" id="asFav"></span></a></li>
                                }

                                else
                                {
                                    <li><a id="asFav" onclick="actions(@item.Movie_id,'f', @utility, @grLabel, @myBarSpan, @load, @afterFav, @afterToWatch, @afterWatched)" style="cursor:pointer"><span class="pe-7s-like" aria-hidden="true" title="Mark As Favorite" id=@afterFav></span></a></li>


                                }


                                @if (item.isToWatch)
                                {
                                    <li><a><span class="pe-7s-plus" style="margin-left:-5px; color:#f28564; cursor:pointer" aria-hidden="true"></span></a></li>
                                }
                                else
                                {
                                    <li><a id="asToWatch" onclick="actions(@item.Movie_id,'t', @utility, @grLabel, @myBarSpan,  @load, @afterFav, @afterToWatch, @afterWatched)" style="cursor:pointer"><span class="pe-7s-plus" style="margin-left:-5px" aria-hidden="true" title="Add To Watchlist" id=@afterToWatch></span></a></li>

                                }


                                @if (item.isWatched)
                                {

                                    <li><a><span class="pe-7s-check" style="margin-left:-5px; color:#39aea9; cursor:pointer" id=@afterWatched></span></a></li>
                                }
                                else
                                {

                                    <li><a id="Watched" onclick="actions(@item.Movie_id,'w', @utility, @grLabel, @myBarSpan, @load, @afterFav, @afterToWatch, @afterWatched)"><span class="pe-7s-check" style="margin-left:-5px; cursor:pointer"></span></a></li>


                                }




                            </ul>

                        </div>

                    </div>
                </div>


            </div>

        </div>
    </div>

}
